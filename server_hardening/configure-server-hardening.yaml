---
- name: Implementing security measures for linux server.
  hosts: linux
  become: true
  
  tasks:        
  - name: sshd - Disable SSH password authentication.
    ansible.builtin.lineinfile:
        dest: /etc/ssh/sshd_config 
        regexp: '^(#\s*)?PasswordAuthentication '
        line: 'PasswordAuthentication no'
            
  - name: Restart sshd.
    ansible.builtin.service:  
       name: sshd
       state: restarted
